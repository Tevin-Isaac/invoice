export const EIP1193_ERROR_CODES = {
  userRejectedRequest: {
    code: 4001,
    message: "The user rejected the request.",
  },
} as const

export type EIP1193ErrorPayload =
  (typeof EIP1193_ERROR_CODES)[keyof typeof EIP1193_ERROR_CODES] & {
    data?: unknown
  }
export class EIP1193Error extends Error {
  constructor(public eip1193Error: EIP1193ErrorPayload) {
    super(eip1193Error.message)
  }

  toJSON(): unknown {
    return this.eip1193Error
  }
}

export const serializeError = (err: EIP1193Error) =>
  JSON.parse(JSON.stringify(err))
