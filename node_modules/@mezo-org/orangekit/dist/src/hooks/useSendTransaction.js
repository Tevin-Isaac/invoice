import { useCallback } from "react";
import { useAccount, useChainId } from "wagmi";
import { getChainById } from "@mezo-org/orangekit-smart-account";
function useSendTransaction() {
    const { connector } = useAccount();
    const chainId = useChainId();
    const sendTransaction = useCallback(async (to, value, data) => {
        const orangeKitConnector = connector;
        if (!orangeKitConnector ||
            typeof orangeKitConnector.getClient !== "function")
            return undefined;
        const chain = getChainById(chainId);
        if (!chain)
            throw new Error(`Unsupported chain id [${chainId}]`);
        const client = (await orangeKitConnector.getClient());
        if (!client.account)
            throw new Error("Account could not be found in the OrangeKitClient");
        const transactionHash = await client.sendTransaction({
            account: client.account,
            to,
            value,
            data,
            chain,
        });
        return { hash: transactionHash };
    }, [connector, chainId]);
    return { sendTransaction };
}
export { useSendTransaction };
//# sourceMappingURL=useSendTransaction.js.map